import{P as Et,b as k,D as Ze,r as Be,c as yt,d as mt,S as Ke,e as Je,l as Pe,f as $t,g as xe,h as W,p as B,j as P,k as Fe,s as Ut,_ as X,Z as ce,m as z,n as Me,o as ze,q as jt,t as qt,v as Zt,w as St,x as Kt,y as Jt,z as xt,A as Qt,C as er,B as tr,E as rr,F as Y,G as $,H as ar,I as ir,J as nr,K as or,L as sr,M as lr,N as wt,R as Te,O as bt,Q as N,T as _t,U as ur,V as we,W as H,X as hr,Y as Ct,$ as Tt,a0 as cr,a1 as Dt,a2 as vr,a3 as fr,a4 as gr,a5 as Qe,a6 as dr,a7 as ee,a8 as pr,a9 as yr,aa as et,ab as mr,ac as Sr,ad as xr,ae as tt,af as rt,ag as At,ah as wr,ai as br,aj as be,ak as _r,al as Lt,am as ue,an as Cr,ao as Tr,ap as Oe,u as _e,aq as Dr,ar as at,as as Ar,at as Lr,au as It,av as Ir,aw as Pr,ax as Mr,ay as Or,az as it,aA as kr,aB as Rr,aC as he,aD as Gr,aE as Br,aF as Pt,aG as zr,aH as Nr,aI as Hr,aJ as Vr}from"./installCanvasRenderer.c78b71e0.js";import{g as ye}from"./sectorHelper.521664cd.js";function Mt(e,t,i,o,n,a,r,s){var l=n-e,h=a-t,d=i-e,u=o-t,c=Math.sqrt(d*d+u*u),p=(l*(d/=c)+h*(u/=c))/c;s&&(p=Math.min(Math.max(p,0),1)),p*=c;var g=r[0]=e+p*d,f=r[1]=t+p*u;return Math.sqrt((g-n)*(g-n)+(f-a)*(f-a))}Et.CMD;var U=new k,M=new k,O=new k,j=new k,V=new k,Ce=[],R=new k;function Wr(e,t){if(t<=180&&t>0){t=t/180*Math.PI,U.fromArray(e[0]),M.fromArray(e[1]),O.fromArray(e[2]),k.sub(j,U,M),k.sub(V,O,M);var i=j.len(),o=V.len();if(!(i<.001||o<.001)){j.scale(1/i),V.scale(1/o);var n=j.dot(V);if(Math.cos(t)<n){var a=Mt(M.x,M.y,O.x,O.y,U.x,U.y,Ce,!1);R.fromArray(Ce),R.scaleAndAdd(V,a/Math.tan(Math.PI-t));var r=O.x!==M.x?(R.x-M.x)/(O.x-M.x):(R.y-M.y)/(O.y-M.y);if(isNaN(r))return;r<0?k.copy(R,M):r>1&&k.copy(R,O),R.toArray(e[1])}}}}function Fr(e,t,i){if(i<=180&&i>0){i=i/180*Math.PI,U.fromArray(e[0]),M.fromArray(e[1]),O.fromArray(e[2]),k.sub(j,M,U),k.sub(V,O,M);var o=j.len(),n=V.len();if(!(o<.001||n<.001))if(j.scale(1/o),V.scale(1/n),j.dot(t)<Math.cos(i)){var a=Mt(M.x,M.y,O.x,O.y,U.x,U.y,Ce,!1);R.fromArray(Ce);var r=Math.PI/2,s=r+Math.acos(V.dot(t))-i;if(s>=r)k.copy(R,O);else{R.scaleAndAdd(V,a/Math.tan(Math.PI/2-s));var l=O.x!==M.x?(R.x-M.x)/(O.x-M.x):(R.y-M.y)/(O.y-M.y);if(isNaN(l))return;l<0?k.copy(R,M):l>1&&k.copy(R,O)}R.toArray(e[1])}}}function nt(e,t,i,o){var n="normal"===i,a=n?e:e.ensureState(i);a.ignore=t;var r=o.get("smooth");r&&!0===r&&(r=.3),a.shape=a.shape||{},r>0&&(a.shape.smooth=r);var s=o.getModel("lineStyle").getLineStyle();n?e.useStyle(s):a.style=s}function Yr(e,t){var i=t.smooth,o=t.points;if(o)if(e.moveTo(o[0][0],o[0][1]),i>0&&o.length>=3){var n=Je(o[0],o[1]),a=Je(o[1],o[2]);if(!n||!a)return e.lineTo(o[1][0],o[1][1]),void e.lineTo(o[2][0],o[2][1]);var r=Math.min(n,a)*i,s=Pe([],o[1],o[0],r/n),l=Pe([],o[1],o[2],r/a),h=Pe([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],h[0],h[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],o[2][0],o[2][1])}else for(var d=1;d<o.length;d++)e.lineTo(o[d][0],o[d][1])}function Xr(e,t,i){var o=e.getTextGuideLine(),n=e.getTextContent();if(n){for(var a=t.normal,r=a.get("show"),s=n.ignore,l=0;l<Ze.length;l++){var h=Ze[l],d=t[h],u="normal"===h;if(d){var c=d.get("show");if((u?s:Be(n.states[h]&&n.states[h].ignore,s))||!Be(c,r)){var p=u?o:o&&o.states[h];p&&(p.ignore=!0);continue}o||(o=new yt,e.setTextGuideLine(o),!u&&(s||!r)&&nt(o,!0,"normal",t.normal),e.stateProxy&&(o.stateProxy=e.stateProxy)),nt(o,!1,h,d)}}if(o){mt(o.style,i),o.style.fill=null;var g=a.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=g||!1,o.buildPath=Yr}}else o&&e.removeTextGuideLine()}function Er(e,t){t=t||"labelLine";for(var i={normal:e.getModel(t)},o=0;o<Ke.length;o++){var n=Ke[o];i[n]=e.getModel([n,t])}return i}var me=2*Math.PI,ot=Math.PI/180;function Ot(e,t){return xe(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function kt(e,t){var i=Ot(e,t),o=e.get("center"),n=e.get("radius");W(n)||(n=[0,n]);var a,r,s=B(i.width,t.getWidth()),l=B(i.height,t.getHeight()),h=Math.min(s,l),d=B(n[0],h/2),u=B(n[1],h/2),c=e.coordinateSystem;if(c){var p=c.dataToPoint(o);a=p[0]||0,r=p[1]||0}else W(o)||(o=[o,o]),a=B(o[0],s)+i.x,r=B(o[1],l)+i.y;return{cx:a,cy:r,r0:d,r:u}}function $r(e,t,i){t.eachSeriesByType(e,(function(e){var t=e.getData(),o=t.mapDimension("value"),n=Ot(e,i),a=kt(e,i),r=a.cx,s=a.cy,l=a.r,h=a.r0,d=-e.get("startAngle")*ot,u=e.get("minAngle")*ot,c=0;t.each(o,(function(e){!isNaN(e)&&c++}));var p=t.getSum(o),g=Math.PI/(p||c)*2,f=e.get("clockwise"),y=e.get("roseType"),m=e.get("stillShowZeroSum"),v=t.getDataExtent(o);v[0]=0;var x=me,_=0,w=d,S=f?1:-1;if(t.setLayout({viewRect:n,r:l}),t.each(o,(function(e,i){var o;if(isNaN(e))t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:f,cx:r,cy:s,r0:h,r:y?NaN:l});else{(o="area"!==y?0===p&&m?g:e*g:me/c)<u?(o=u,x-=u):_+=e;var n=w+S*o;t.setItemLayout(i,{angle:o,startAngle:w,endAngle:n,clockwise:f,cx:r,cy:s,r0:h,r:y?$t(e,v,[h,l]):l}),w=n}})),x<me&&c)if(x<=.001){var b=me/c;t.each(o,(function(e,i){if(!isNaN(e)){var o=t.getItemLayout(i);o.angle=b,o.startAngle=d+S*i*b,o.endAngle=d+S*(i+1)*b}}))}else g=x/_,w=d,t.each(o,(function(e,i){if(!isNaN(e)){var o=t.getItemLayout(i),n=o.angle===u?u:e*g;o.startAngle=w,o.endAngle=w+S*n,w+=S*n}}))}))}function Ur(e){return{seriesType:e,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var o=e.getData();o.filterSelf((function(e){for(var t=o.getName(e),n=0;n<i.length;n++)if(!i[n].isSelected(t))return!1;return!0}))}}}}var jr=Math.PI/180;function st(e,t,i,o,n,a,r,s,l,h){if(!(e.length<2)){for(var d=e.length,u=0;u<d;u++)if("outer"===e[u].position&&"labelLine"===e[u].labelAlignTo){var c=e[u].label.x-h;e[u].linePoints[1][0]+=c,e[u].label.x=h}Ut(e,l,l+r)&&function(e){for(var a={list:[],maxY:0},r={list:[],maxY:0},s=0;s<e.length;s++)if("none"===e[s].labelAlignTo){var l=e[s],h=l.label.y>i?r:a,d=Math.abs(l.label.y-i);if(d>=h.maxY){var u=l.label.x-t-l.len2*n,c=o+l.len,g=Math.abs(u)<c?Math.sqrt(d*d/(1-u*u/c/c)):c;h.rB=g,h.maxY=d}h.list.push(l)}p(a),p(r)}(e)}function p(e){for(var a=e.rB,r=a*a,s=0;s<e.list.length;s++){var l=e.list[s],h=Math.abs(l.label.y-i),d=o+l.len,u=d*d,c=Math.sqrt((1-Math.abs(h*h/r))*u),p=t+(c+l.len2)*n,g=p-l.label.x;Rt(l,l.targetTextWidth-g*n,!0),l.label.x=p}}}function qr(e,t,i,o,n,a,r,s){for(var l=[],h=[],d=Number.MAX_VALUE,u=-Number.MAX_VALUE,c=0;c<e.length;c++){var p=e[c].label;ke(e[c])||(p.x<t?(d=Math.min(d,p.x),l.push(e[c])):(u=Math.max(u,p.x),h.push(e[c])))}for(c=0;c<e.length;c++){if(!ke(y=e[c])&&y.linePoints){if(null!=y.labelStyleWidth)continue;p=y.label;var g=y.linePoints,f=void 0;f="edge"===y.labelAlignTo?p.x<t?g[2][0]-y.labelDistance-r-y.edgeDistance:r+n-y.edgeDistance-g[2][0]-y.labelDistance:"labelLine"===y.labelAlignTo?p.x<t?d-r-y.bleedMargin:r+n-u-y.bleedMargin:p.x<t?p.x-r-y.bleedMargin:r+n-p.x-y.bleedMargin,y.targetTextWidth=f,Rt(y,f)}}st(h,t,i,o,1,n,a,r,s,u),st(l,t,i,o,-1,n,a,r,s,d);for(c=0;c<e.length;c++){var y;if(!ke(y=e[c])&&y.linePoints){p=y.label,g=y.linePoints;var m="edge"===y.labelAlignTo,v=p.style.padding,x=v?v[1]+v[3]:0,_=p.style.backgroundColor?0:x,w=y.rect.width+_,S=g[1][0]-g[2][0];m?p.x<t?g[2][0]=r+y.edgeDistance+w+y.labelDistance:g[2][0]=r+n-y.edgeDistance-w-y.labelDistance:(p.x<t?g[2][0]=p.x+y.labelDistance:g[2][0]=p.x-y.labelDistance,g[1][0]=g[2][0]+S),g[1][1]=g[2][1]=p.y}}}function Rt(e,t,i){if(void 0===i&&(i=!1),null==e.labelStyleWidth){var o=e.label,n=o.style,a=e.rect,r=n.backgroundColor,s=n.padding,l=s?s[1]+s[3]:0,h=n.overflow,d=a.width+(r?0:l);if(t<d||i){var u=a.height;if(h&&h.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",t-l);var c=o.getBoundingRect();o.setStyle("width",Math.ceil(c.width)),o.setStyle("backgroundColor",r)}else{var p=t-l,g=t<d?p:i?p>e.unconstrainedWidth?null:p:null;o.setStyle("width",g)}var f=o.getBoundingRect();a.width=f.width;var y=(o.style.margin||0)+2.1;a.height=f.height+y,a.y-=(a.height-u)/2}}}function ke(e){return"center"===e.position}function Zr(e){var t,i,o=e.getData(),n=[],a=!1,r=(e.get("minShowLabelAngle")||0)*jr,s=o.getLayout("viewRect"),l=o.getLayout("r"),h=s.width,d=s.x,u=s.y,c=s.height;function p(e){e.ignore=!0}o.each((function(e){var s=o.getItemGraphicEl(e),u=s.shape,c=s.getTextContent(),g=s.getTextGuideLine(),f=o.getItemModel(e),y=f.getModel("label"),m=y.get("position")||f.get(["emphasis","label","position"]),v=y.get("distanceToLabelLine"),x=y.get("alignTo"),_=B(y.get("edgeDistance"),h),w=y.get("bleedMargin"),S=f.getModel("labelLine"),b=S.get("length");b=B(b,h);var M=S.get("length2");if(M=B(M,h),Math.abs(u.endAngle-u.startAngle)<r)return P(c.states,p),c.ignore=!0,void(g&&(P(g.states,p),g.ignore=!0));if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(c)){var C,T,I,A,D=(u.startAngle+u.endAngle)/2,L=Math.cos(D),O=Math.sin(D);t=u.cx,i=u.cy;var N="inside"===m||"inner"===m;if("center"===m)C=u.cx,T=u.cy,A="center";else{var R=(N?(u.r+u.r0)/2*L:u.r*L)+t,z=(N?(u.r+u.r0)/2*O:u.r*O)+i;if(C=R+3*L,T=z+3*O,!N){var G=R+L*(b+l-u.r),W=z+O*(b+l-u.r),H=G+(L<0?-1:1)*M;C="edge"===x?L<0?d+_:d+h-_:H+(L<0?-v:v),T=W,I=[[R,z],[G,W],[H,W]]}A=N?"center":"edge"===x?L>0?"right":"left":L>0?"left":"right"}var V=Math.PI,E=0,Y=y.get("rotate");if(Fe(Y))E=Y*(V/180);else if("center"===m)E=0;else if("radial"===Y||!0===Y){E=L<0?-D+V:-D}else if("tangential"===Y&&"outside"!==m&&"outer"!==m){var X=Math.atan2(L,O);X<0&&(X=2*V+X),O>0&&(X=V+X),E=X-V}if(a=!!E,c.x=C,c.y=T,c.rotation=E,c.setStyle({verticalAlign:"middle"}),N){c.setStyle({align:A});var U=c.states.select;U&&(U.x+=c.x,U.y+=c.y)}else{var F=c.getBoundingRect().clone();F.applyTransform(c.getComputedTransform());var j=(c.style.margin||0)+2.1;F.y-=j/2,F.height+=j,n.push({label:c,labelLine:g,position:m,len:b,len2:M,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new k(L,O),linePoints:I,textAlign:A,labelDistance:v,labelAlignTo:x,edgeDistance:_,bleedMargin:w,rect:F,unconstrainedWidth:F.width,labelStyleWidth:c.style.width})}s.setTextConfig({inside:N})}})),!a&&e.get("avoidLabelOverlap")&&qr(n,t,i,l,h,c,d,u);for(var g=0;g<n.length;g++){var f=n[g],y=f.label,m=f.labelLine,v=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:f.textAlign}),v&&(P(y.states,p),y.ignore=!0);var x=y.states.select;x&&(x.x+=y.x,x.y+=y.y)}if(m){var _=f.linePoints;v||!_?(P(m.states,p),m.ignore=!0):(Wr(_,f.minTurnAngle),Fr(_,f.surfaceNormal,f.maxSurfaceAngle),m.setShape({points:_}),y.__hostTarget.textGuideLineConfig={anchor:new k(_[0][0],_[0][1])})}}}var Kr=function(e){function t(t,i,o){var n=e.call(this)||this;n.z2=2;var a=new ce;return n.setTextContent(a),n.updateData(t,i,o,!0),n}return X(t,e),t.prototype.updateData=function(e,t,i,o){var n=this,a=e.hostModel,r=e.getItemModel(t),s=r.getModel("emphasis"),l=e.getItemLayout(t),h=z(ye(r.getModel("itemStyle"),l,!0),l);if(isNaN(h.startAngle))n.setShape(h);else{if(o){n.setShape(h);var d=a.getShallow("animationType");a.ecModel.ssr?(Me(n,{scaleX:0,scaleY:0},a,{dataIndex:t,isFrom:!0}),n.originX=h.cx,n.originY=h.cy):"scale"===d?(n.shape.r=l.r0,Me(n,{shape:{r:l.r}},a,t)):null!=i?(n.setShape({startAngle:i,endAngle:i}),Me(n,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},a,t)):(n.shape.endAngle=l.startAngle,ze(n,{shape:{endAngle:l.endAngle}},a,t))}else jt(n),ze(n,{shape:h},a,t);n.useStyle(e.getItemVisual(t,"style")),qt(n,r);var u=(l.startAngle+l.endAngle)/2,c=a.get("selectedOffset"),p=Math.cos(u)*c,g=Math.sin(u)*c,f=r.getShallow("cursor");f&&n.attr("cursor",f),this._updateLabel(a,e,t),n.ensureState("emphasis").shape=z({r:l.r+(s.get("scale")&&s.get("scaleSize")||0)},ye(s.getModel("itemStyle"),l)),z(n.ensureState("select"),{x:p,y:g,shape:ye(r.getModel(["select","itemStyle"]),l)}),z(n.ensureState("blur"),{shape:ye(r.getModel(["blur","itemStyle"]),l)});var y=n.getTextGuideLine(),m=n.getTextContent();y&&z(y.ensureState("select"),{x:p,y:g}),z(m.ensureState("select"),{x:p,y:g}),Zt(this,s.get("focus"),s.get("blurScope"),s.get("disabled"))}},t.prototype._updateLabel=function(e,t,i){var o=this,n=t.getItemModel(i),a=n.getModel("labelLine"),r=t.getItemVisual(i,"style"),s=r&&r.fill,l=r&&r.opacity;St(o,Kt(n),{labelFetcher:t.hostModel,labelDataIndex:i,inheritColor:s,defaultOpacity:l,defaultText:e.getFormattedLabel(i,"normal")||t.getName(i)});var h=o.getTextContent();o.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var d=e.get(["label","position"]);if("outside"!==d&&"outer"!==d)o.removeTextGuideLine();else{var u=this.getTextGuideLine();u||(u=new yt,this.setTextGuideLine(u)),Xr(this,Er(n),{stroke:s,opacity:Jt(a.get(["lineStyle","opacity"]),l,1)})}},t}(xt),Jr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return X(t,e),t.prototype.render=function(e,t,i,o){var n,a=e.getData(),r=this._data,s=this.group;if(!r&&a.count()>0){for(var l=a.getItemLayout(0),h=1;isNaN(l&&l.startAngle)&&h<a.count();++h)l=a.getItemLayout(h);l&&(n=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===a.count()&&e.get("showEmptyCircle")){var d=new xt({shape:kt(e,i)});d.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,s.add(d)}a.diff(r).add((function(e){var t=new Kr(a,e,n);a.setItemGraphicEl(e,t),s.add(t)})).update((function(e,t){var i=r.getItemGraphicEl(t);i.updateData(a,e,n),i.off("click"),s.add(i),a.setItemGraphicEl(e,i)})).remove((function(t){var i=r.getItemGraphicEl(t);Qt(i,e,t)})).execute(),Zr(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=a)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var i=t.getData().getItemLayout(0);if(i){var o=e[0]-i.cx,n=e[1]-i.cy,a=Math.sqrt(o*o+n*n);return a<=i.r&&a>=i.r0}},t.type="pie",t}(er);const Qr=Jr;function ea(e,t,i){t=W(t)&&{coordDimensions:t}||z({encodeDefine:e.getEncode()},t);var o=e.getSource(),n=tr(o,t).dimensions,a=new rr(n,e);return a.initData(o,i),a}var ta=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}();const ra=ta;var aa=sr(),ia=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new ra(Y(this.getData,this),Y(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return ea(this,{coordDimensions:["value"],encodeDefaulter:$(ar,this)})},t.prototype.getDataParams=function(t){var i=this.getData(),o=aa(i),n=o.seats;if(!n){var a=[];i.each(i.mapDimension("value"),(function(e){a.push(e)})),n=o.seats=ir(a,i.hostModel.get("percentPrecision"))}var r=e.prototype.getDataParams.call(this,t);return r.percent=n[t]||0,r.$vars.push("percent"),r},t.prototype._defaultLabelLine=function(e){nr(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(or);const na=ia;function oa(e){return{seriesType:e,reset:function(e,t){var i=e.getData();i.filterSelf((function(e){var t=i.mapDimension("value"),o=i.get(t,e);return!(Fe(o)&&!isNaN(o)&&o<0)}))}}}function Ea(e){e.registerChartView(Qr),e.registerSeriesModel(na),lr("pie",e.registerAction),e.registerLayout($($r,"pie")),e.registerProcessor(Ur("pie")),e.registerProcessor(oa("pie"))}function sa(e,t){var i=wt(t.get("padding")),o=t.getItemStyle(["color","opacity"]);return o.fill=t.get("backgroundColor"),e=new Te({shape:{x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2],r:t.get("borderRadius")},style:o,silent:!0,z2:-1})}var la=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return X(t,e),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(bt);const ua=la;function Gt(e){var t=e.get("confine");return null!=t?!!t:"richText"===e.get("renderMode")}function Bt(e){if(N.domSupported)for(var t=document.documentElement.style,i=0,o=e.length;i<o;i++)if(e[i]in t)return e[i]}var zt=Bt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ha=Bt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Nt(e,t){if(!e)return t;t=_t(t,!0);var i=e.indexOf(t);return(e=-1===i?t:"-"+e.slice(0,i)+"-"+t).toLowerCase()}function ca(e,t){var i=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return i?t?i[t]:i:null}var va=Nt(ha,"transition"),Ye=Nt(zt,"transform"),fa="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(N.transform3dSupported?"will-change:transform;":"");function ga(e){return e="left"===e?"right":"right"===e?"left":"top"===e?"bottom":"top"}function da(e,t,i){if(!H(i)||"inside"===i)return"";var o=e.get("backgroundColor"),n=e.get("borderWidth");t=we(t);var a,r=ga(i),s=Math.max(1.5*Math.round(n),6),l="",h=Ye+":";Ct(["left","right"],r)>-1?(l+="top:50%",h+="translateY(-50%) rotate("+(a="left"===r?-225:-45)+"deg)"):(l+="left:50%",h+="translateX(-50%) rotate("+(a="top"===r?225:45)+"deg)");var d=a*Math.PI/180,u=s+n,c=u*Math.abs(Math.cos(d))+u*Math.abs(Math.sin(d)),p=t+" solid "+n+"px;";return'<div style="'+["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",(l+=";"+r+":-"+Math.round(100*((c-Math.SQRT2*n)/2+Math.SQRT2*n-(c-u)/2))/100+"px")+";"+h+";","border-bottom:"+p,"border-right:"+p,"background-color:"+o+";"].join("")+'"></div>'}function pa(e,t){var i="cubic-bezier(0.23,1,0.32,1)",o=" "+e/2+"s "+i,n="opacity"+o+",visibility"+o;return t||(o=" "+e+"s "+i,n+=N.transformSupported?","+Ye+o:",left"+o+",top"+o),va+":"+n}function lt(e,t,i){var o=e.toFixed(0)+"px",n=t.toFixed(0)+"px";if(!N.transformSupported)return i?"top:"+n+";left:"+o+";":[["top",n],["left",o]];var a=N.transform3dSupported,r="translate"+(a?"3d":"")+"("+o+","+n+(a?",0":"")+")";return i?"top:0;left:0;"+Ye+":"+r+";":[["top",0],["left",0],[zt,r]]}function ya(e){var t=[],i=e.get("fontSize"),o=e.getTextColor();o&&t.push("color:"+o),t.push("font:"+e.getFont()),i&&t.push("line-height:"+Math.round(3*i/2)+"px");var n=e.get("textShadowColor"),a=e.get("textShadowBlur")||0,r=e.get("textShadowOffsetX")||0,s=e.get("textShadowOffsetY")||0;return n&&a&&t.push("text-shadow:"+r+"px "+s+"px "+a+"px "+n),P(["decoration","align"],(function(i){var o=e.get(i);o&&t.push("text-"+i+":"+o)})),t.join(";")}function ma(e,t,i){var o=[],n=e.get("transitionDuration"),a=e.get("backgroundColor"),r=e.get("shadowBlur"),s=e.get("shadowColor"),l=e.get("shadowOffsetX"),h=e.get("shadowOffsetY"),d=e.getModel("textStyle"),u=Tt(e,"html"),c=l+"px "+h+"px "+r+"px "+s;return o.push("box-shadow:"+c),t&&n&&o.push(pa(n,i)),a&&o.push("background-color:"+a),P(["width","color","radius"],(function(t){var i="border-"+t,n=_t(i),a=e.get(n);null!=a&&o.push(i+":"+a+("color"===t?"":"px"))})),o.push(ya(d)),null!=u&&o.push("padding:"+wt(u).join("px ")+"px"),o.join(";")+";"}function ut(e,t,i,o,n){var a=t&&t.painter;if(i){var r=a&&a.getViewportRoot();r&&cr(e,r,document.body,o,n)}else{e[0]=o,e[1]=n;var s=a&&a.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var Sa=function(){function e(e,t,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,N.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var n=this._zr=t.getZr(),a=this._appendToBody=i&&i.appendToBody;ut(this._styleCoord,n,a,t.getWidth()/2,t.getHeight()/2),a?document.body.appendChild(o):e.appendChild(o),this._container=e;var r=this;o.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},o.onmousemove=function(e){if(e=e||window.event,!r._enterable){var t=n.handler,i=n.painter.getViewportRoot();ur(i,e,!0),t.dispatch("mousemove",e)}},o.onmouseleave=function(){r._inContent=!1,r._enterable&&r._show&&r.hideLater(r._hideDelay)}}return e.prototype.update=function(e){var t=this._container,i=ca(t,"position"),o=t.style;"absolute"!==o.position&&"absolute"!==i&&(o.position="relative");var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n,this.el.className=e.get("className")||""},e.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,o=i.style,n=this._styleCoord;i.innerHTML?o.cssText=fa+ma(e,!this._firstShow,this._longHide)+lt(n[0],n[1],!0)+"border-color:"+we(t)+";"+(e.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):o.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(e,t,i,o,n){var a=this.el;if(null!=e){var r="";if(H(n)&&"item"===i.get("trigger")&&!Gt(i)&&(r=da(i,o,n)),H(e))a.innerHTML=e+r;else if(e){a.innerHTML="",W(e)||(e=[e]);for(var s=0;s<e.length;s++)hr(e[s])&&e[s].parentNode!==a&&a.appendChild(e[s]);if(r&&a.childNodes.length){var l=document.createElement("div");l.innerHTML=r,a.appendChild(l)}}}else a.innerHTML=""},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},e.prototype.moveTo=function(e,t){var i=this._styleCoord;if(ut(i,this._zr,this._appendToBody,e,t),null!=i[0]&&null!=i[1]){var o=this.el.style,n=lt(i[0],i[1]);P(n,(function(e){o[e[0]]=e[1]}))}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",N.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return e._longHide=!0}),500)},e.prototype.hideLater=function(e){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Y(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},e}();const xa=Sa;var wa=function(){function e(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),ct(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return e.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(e,t,i,o,n){var a=this;Dt(e)&&vr(""),this.el&&this._zr.remove(this.el);var r=i.getModel("textStyle");this.el=new ce({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:o,textShadowColor:r.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:Tt(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),P(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(e){a.el.style[e]=i.get(e)})),P(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(e){a.el.style[e]=r.get(e)||0})),this._zr.add(this.el);var s=this;this.el.on("mouseover",(function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0})),this.el.on("mouseout",(function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}))},e.prototype.setEnterable=function(e){this._enterable=e},e.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=ht(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},e.prototype.moveTo=function(e,t){var i=this.el;if(i){var o=this._styleCoord;ct(o,this._zr,e,t),e=o[0],t=o[1];var n=i.style,a=E(n.borderWidth||0),r=ht(n);i.x=e+a+r.left,i.y=t+a+r.top,i.markRedraw()}},e.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(e){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Y(this.hide,this),e)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function E(e){return Math.max(0,e)}function ht(e){var t=E(e.shadowBlur||0),i=E(e.shadowOffsetX||0),o=E(e.shadowOffsetY||0);return{left:E(t-i),right:E(t+i),top:E(t-o),bottom:E(t+o)}}function ct(e,t,i,o){e[0]=i,e[1]=o,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}const ba=wa;var _a=new Te({shape:{x:-1,y:-1,width:2,height:2}}),Ca=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return X(t,e),t.prototype.init=function(e,t){if(!N.node&&t.getDom()){var i=e.getComponent("tooltip"),o=this._renderMode=fr(i.get("renderMode"));this._tooltipContent="richText"===o?new ba(t):new xa(t.getDom(),t,{appendToBody:i.get("appendToBody",!0)})}},t.prototype.render=function(e,t,i){if(!N.node&&i.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=i;var o=this._tooltipContent;o.update(e),o.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?gr(this,"_updatePosition",50,"fixRate"):Qe(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel.get("triggerOn");dr("itemTooltip",this._api,Y((function(t,i,o){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(i,o):"leave"===t&&this._hide(o))}),this))},t.prototype._keepShow=function(){var e=this._tooltipModel,t=this._ecModel,i=this._api,o=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==o&&"click"!==o){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&n.manuallyShowTip(e,t,i,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})}))}},t.prototype.manuallyShowTip=function(e,t,i,o){if(o.from!==this.uid&&!N.node&&i.getDom()){var n=vt(o,i);this._ticket="";var a=o.dataByCoordSys,r=La(o,t,i);if(r){var s=r.el.getBoundingRect().clone();s.applyTransform(r.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:r.el,position:o.position,positionDefault:"bottom"},n)}else if(o.tooltip&&null!=o.x&&null!=o.y){var l=_a;l.x=o.x,l.y=o.y,l.update(),ee(l).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:l},n)}else if(a)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:a,tooltipOption:o.tooltipOption},n);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(e,t,i,o))return;var h=pr(o,t),d=h.point[0],u=h.point[1];null!=d&&null!=u&&this._tryShow({offsetX:d,offsetY:u,target:h.el,position:o.position,positionDefault:"bottom"},n)}else null!=o.x&&null!=o.y&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},n))}},t.prototype.manuallyHideTip=function(e,t,i,o){var n=this._tooltipContent;this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(vt(o,i))},t.prototype._manuallyAxisShowTip=function(e,t,i,o){var n=o.seriesIndex,a=o.dataIndex,r=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=n&&null!=a&&null!=r){var s=t.getSeriesByIndex(n);if(s)if("axis"===se([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:a,position:o.position}),!0}},t.prototype._tryShow=function(e,t){var i=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var o=e.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,e);else if(i){var n,a;this._lastDataByCoordSys=null,yr(i,(function(e){return null!=ee(e).dataIndex?(n=e,!0):null!=ee(e).tooltipConfig?(a=e,!0):void 0}),!0),n?this._showSeriesItemTooltip(e,n,t):a?this._showComponentItemTooltip(e,a,t):this._hide(t)}else this._lastDataByCoordSys=null,this._hide(t)}},t.prototype._showOrMove=function(e,t){var i=e.get("showDelay");t=Y(t,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(t,i):t()},t.prototype._showAxisTooltip=function(e,t){var i=this._ecModel,o=this._tooltipModel,n=[t.offsetX,t.offsetY],a=se([t.tooltipOption],o),r=this._renderMode,s=[],l=et("section",{blocks:[],noHeader:!0}),h=[],d=new Oe;P(e,(function(e){P(e.dataByAxis,(function(e){var t=i.getComponent(e.axisDim+"Axis",e.axisIndex),n=e.value;if(t&&null!=n){var a=mr(n,t.axis,i,e.seriesDataIndices,e.valueLabelOpt),u=et("section",{header:a,noHeader:!Sr(a),sortBlocks:!0,blocks:[]});l.blocks.push(u),P(e.seriesDataIndices,(function(l){var c=i.getSeriesByIndex(l.seriesIndex),p=l.dataIndexInside,g=c.getDataParams(p);if(!(g.dataIndex<0)){g.axisDim=e.axisDim,g.axisIndex=e.axisIndex,g.axisType=e.axisType,g.axisId=e.axisId,g.axisValue=xr(t.axis,{value:n}),g.axisValueLabel=a,g.marker=d.makeTooltipMarker("item",we(g.color),r);var f=tt(c.formatTooltip(p,!0,null)),y=f.frag;if(y){var m=se([c],o).get("valueFormatter");u.blocks.push(m?z({valueFormatter:m},y):y)}f.text&&h.push(f.text),s.push(g)}}))}}))})),l.blocks.reverse(),h.reverse();var u=t.position,c=a.get("order"),p=rt(l,d,r,c,i.get("useUTC"),a.get("textStyle"));p&&h.unshift(p);var g="richText"===r?"\n\n":"<br/>",f=h.join(g);this._showOrMove(a,(function(){this._updateContentNotChangedOnAxis(e,s)?this._updatePosition(a,u,n[0],n[1],this._tooltipContent,s):this._showTooltipContent(a,f,s,Math.random()+"",n[0],n[1],u,null,d)}))},t.prototype._showSeriesItemTooltip=function(e,t,i){var o=this._ecModel,n=ee(t),a=n.seriesIndex,r=o.getSeriesByIndex(a),s=n.dataModel||r,l=n.dataIndex,h=n.dataType,d=s.getData(h),u=this._renderMode,c=e.positionDefault,p=se([d.getItemModel(l),s,r&&(r.coordinateSystem||{}).model],this._tooltipModel,c?{position:c}:null),g=p.get("trigger");if(null==g||"item"===g){var f=s.getDataParams(l,h),y=new Oe;f.marker=y.makeTooltipMarker("item",we(f.color),u);var m=tt(s.formatTooltip(l,!1,h)),v=p.get("order"),x=p.get("valueFormatter"),_=m.frag,w=_?rt(x?z({valueFormatter:x},_):_,y,u,v,o.get("useUTC"),p.get("textStyle")):m.text,S="item_"+s.name+"_"+l;this._showOrMove(p,(function(){this._showTooltipContent(p,w,f,S,e.offsetX,e.offsetY,e.position,e.target,y)})),i({type:"showTip",dataIndexInside:l,dataIndex:d.getRawIndex(l),seriesIndex:a,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,t,i){var o=ee(t),n=o.tooltipConfig.option||{};if(H(n)){n={content:n,formatter:n}}var a=[n],r=this._ecModel.getComponent(o.componentMainType,o.componentIndex);r&&a.push(r),a.push({formatter:n.content});var s=e.positionDefault,l=se(a,this._tooltipModel,s?{position:s}:null),h=l.get("content"),d=Math.random()+"",u=new Oe;this._showOrMove(l,(function(){var i=At(l.get("formatterParams")||{});this._showTooltipContent(l,h,i,d,e.offsetX,e.offsetY,e.position,t,u)})),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,t,i,o,n,a,r,s,l){if(this._ticket="",e.get("showContent")&&e.get("show")){var h=this._tooltipContent;h.setEnterable(e.get("enterable"));var d=e.get("formatter");r=r||e.get("position");var u=t,c=this._getNearestPoint([n,a],i,e.get("trigger"),e.get("borderColor")).color;if(d)if(H(d)){var p=e.ecModel.get("useUTC"),g=W(i)?i[0]:i;u=d,g&&g.axisType&&g.axisType.indexOf("time")>=0&&(u=wr(g.axisValue,u,p)),u=br(u,i,!0)}else if(be(d)){var f=Y((function(t,o){t===this._ticket&&(h.setContent(o,l,e,c,r),this._updatePosition(e,r,n,a,h,i,s))}),this);this._ticket=o,u=d(i,o,f)}else u=d;h.setContent(u,l,e,c,r),h.show(e,c),this._updatePosition(e,r,n,a,h,i,s)}},t.prototype._getNearestPoint=function(e,t,i,o){return"axis"===i||W(t)?{color:o||("html"===this._renderMode?"#fff":"none")}:W(t)?void 0:{color:o||t.color||t.borderColor}},t.prototype._updatePosition=function(e,t,i,o,n,a,r){var s=this._api.getWidth(),l=this._api.getHeight();t=t||e.get("position");var h=n.getSize(),d=e.get("align"),u=e.get("verticalAlign"),c=r&&r.getBoundingRect().clone();if(r&&c.applyTransform(r.transform),be(t)&&(t=t([i,o],a,n.el,c,{viewSize:[s,l],contentSize:h.slice()})),W(t))i=B(t[0],s),o=B(t[1],l);else if(Dt(t)){var p=t;p.width=h[0],p.height=h[1];var g=xe(p,{width:s,height:l});i=g.x,o=g.y,d=null,u=null}else if(H(t)&&r){i=(f=Aa(t,c,h,e.get("borderWidth")))[0],o=f[1]}else{var f;i=(f=Ta(i,o,n,s,l,d?null:20,u?null:20))[0],o=f[1]}(d&&(i-=ft(d)?h[0]/2:"right"===d?h[0]:0),u&&(o-=ft(u)?h[1]/2:"bottom"===u?h[1]:0),Gt(e))&&(i=(f=Da(i,o,n,s,l))[0],o=f[1]);n.moveTo(i,o)},t.prototype._updateContentNotChangedOnAxis=function(e,t){var i=this._lastDataByCoordSys,o=this._cbParamsList,n=!!i&&i.length===e.length;return n&&P(i,(function(i,a){var r=i.dataByAxis||[],s=(e[a]||{}).dataByAxis||[];(n=n&&r.length===s.length)&&P(r,(function(e,i){var a=s[i]||{},r=e.seriesDataIndices||[],l=a.seriesDataIndices||[];(n=n&&e.value===a.value&&e.axisType===a.axisType&&e.axisId===a.axisId&&r.length===l.length)&&P(r,(function(e,t){var i=l[t];n=n&&e.seriesIndex===i.seriesIndex&&e.dataIndex===i.dataIndex})),o&&P(e.seriesDataIndices,(function(e){var i=e.seriesIndex,a=t[i],r=o[i];a&&r&&r.data!==a.data&&(n=!1)}))}))})),this._lastDataByCoordSys=e,this._cbParamsList=t,!!n},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,t){N.node||!t.getDom()||(Qe(this,"_updatePosition"),this._tooltipContent.dispose(),_r("itemTooltip",t))},t.type="tooltip",t}(Lt);function se(e,t,i){var o,n=t.ecModel;i?(o=new ue(i,n,n),o=new ue(t.option,o,n)):o=t;for(var a=e.length-1;a>=0;a--){var r=e[a];r&&(r instanceof ue&&(r=r.get("tooltip",!0)),H(r)&&(r={formatter:r}),r&&(o=new ue(r,o,n)))}return o}function vt(e,t){return e.dispatchAction||Y(t.dispatchAction,t)}function Ta(e,t,i,o,n,a,r){var s=i.getSize(),l=s[0],h=s[1];return null!=a&&(e+l+a+2>o?e-=l+a:e+=a),null!=r&&(t+h+r>n?t-=h+r:t+=r),[e,t]}function Da(e,t,i,o,n){var a=i.getSize(),r=a[0],s=a[1];return e=Math.min(e+r,o)-r,t=Math.min(t+s,n)-s,[e=Math.max(e,0),t=Math.max(t,0)]}function Aa(e,t,i,o){var n=i[0],a=i[1],r=Math.ceil(Math.SQRT2*o)+8,s=0,l=0,h=t.width,d=t.height;switch(e){case"inside":s=t.x+h/2-n/2,l=t.y+d/2-a/2;break;case"top":s=t.x+h/2-n/2,l=t.y-a-r;break;case"bottom":s=t.x+h/2-n/2,l=t.y+d+r;break;case"left":s=t.x-n-r,l=t.y+d/2-a/2;break;case"right":s=t.x+h+r,l=t.y+d/2-a/2}return[s,l]}function ft(e){return"center"===e||"middle"===e}function La(e,t,i){var o=Cr(e).queryOptionMap,n=o.keys()[0];if(n&&"series"!==n){var a,r=Tr(t,n,o.get(n),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(r)if(i.getViewOfComponentModel(r).group.traverse((function(t){var i=ee(t).tooltipConfig;if(i&&i.name===e.name)return a=t,!0})),a)return{componentMainType:n,componentIndex:r.componentIndex,el:a}}}const Ia=Ca;function $a(e){_e(Dr),e.registerComponentModel(ua),e.registerComponentView(Ia),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},at),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},at)}var Pa=function(e,t){return"all"===t?{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}:void 0},Ma=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.layoutMode={type:"box",ignoreSize:!0},i}return X(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(t,i){e.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},t.prototype._updateSelector=function(e){var t=e.selector,i=this.ecModel;!0===t&&(t=e.selector=["all","inverse"]),W(t)&&P(t,(function(e,o){H(e)&&(e={type:e}),t[o]=Ar(e,Pa(i,e.type))}))},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,i=0;i<e.length;i++){var o=e[i].get("name");if(this.isSelected(o)){this.select(o),t=!0;break}}!t&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var t=[],i=[];e.eachRawSeries((function(o){var n,a=o.name;if(i.push(a),o.legendVisualProvider){var r=o.legendVisualProvider.getAllNames();e.isSeriesFiltered(o)||(i=i.concat(r)),r.length?t=t.concat(r):n=!0}else n=!0;n&&Lr(o)&&t.push(o.name)})),this._availableNames=i;var o=this.get("data")||t,n=It(),a=Ir(o,(function(e){return(H(e)||Fe(e))&&(e={name:e}),n.get(e.name)?null:(n.set(e.name,!0),new ue(e,this,this.ecModel))}),this);this._data=Pr(a,(function(e){return!!e}))},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var t=this.option.selected;if("single"===this.get("selectedMode")){var i=this._data;P(i,(function(e){t[e.get("name")]=!1}))}t[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,t=this.option.selected;P(e,(function(e){t[e.get("name",!0)]=!0}))},t.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;P(e,(function(e){var i=e.get("name",!0);t.hasOwnProperty(i)||(t[i]=!0),t[i]=!t[i]}))},t.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&Ct(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(bt);const Ne=Ma;var Q=$,He=P,Se=Pt,Oa=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.newlineDisabled=!1,i}return X(t,e),t.prototype.init=function(){this.group.add(this._contentGroup=new Se),this.group.add(this._selectorGroup=new Se),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,t,i){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var n=e.get("align"),a=e.get("orient");(!n||"auto"===n)&&(n="right"===e.get("left")&&"vertical"===a?"right":"left");var r=e.get("selector",!0),s=e.get("selectorPosition",!0);r&&(!s||"auto"===s)&&(s="horizontal"===a?"end":"start"),this.renderInner(n,e,t,i,r,a,s);var l=e.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},d=e.get("padding"),u=xe(l,h,d),c=this.layoutInner(e,n,u,o,r,s),p=xe(mt({width:c.width,height:c.height},l),h,d);this.group.x=p.x-c.x,this.group.y=p.y-c.y,this.group.markRedraw(),this.group.add(this._backgroundEl=sa(c,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,t,i,o,n,a,r){var s=this.getContentGroup(),l=It(),h=t.get("selectedMode"),d=[];i.eachRawSeries((function(e){!e.get("legendHoverLink")&&d.push(e.id)})),He(t.getData(),(function(n,a){var r=n.get("name");if(!this.newlineDisabled&&(""===r||"\n"===r)){var u=new Se;return u.newline=!0,void s.add(u)}var c=i.getSeriesByName(r)[0];if(!l.get(r))if(c){var p=c.getData(),g=p.getVisual("legendLineStyle")||{},f=p.getVisual("legendIcon"),y=p.getVisual("style");this._createItem(c,r,a,n,t,e,g,y,f,h,o).on("click",Q(gt,r,null,o,d)).on("mouseover",Q(Ve,c.name,null,o,d)).on("mouseout",Q(We,c.name,null,o,d)),l.set(r,!0)}else i.eachRawSeries((function(i){if(!l.get(r)&&i.legendVisualProvider){var s=i.legendVisualProvider;if(!s.containName(r))return;var u=s.indexOfName(r),c=s.getItemVisual(u,"style"),p=s.getItemVisual(u,"legendIcon"),g=Mr(c.fill);g&&0===g[3]&&(g[3]=.2,c=z(z({},c),{fill:Or(g,"rgba")})),this._createItem(i,r,a,n,t,e,{},c,p,h,o).on("click",Q(gt,null,r,o,d)).on("mouseover",Q(Ve,null,r,o,d)).on("mouseout",Q(We,null,r,o,d)),l.set(r,!0)}}),this)}),this),n&&this._createSelector(n,t,o,a,r)},t.prototype._createSelector=function(e,t,i,o,n){var a=this.getSelectorGroup();He(e,(function(e){var o=e.type,n=new ce({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===o?"legendAllSelect":"legendInverseSelect"})}});a.add(n);var r=t.getModel("selectorLabel"),s=t.getModel(["emphasis","selectorLabel"]);St(n,{normal:r,emphasis:s},{defaultText:e.title}),it(n)}))},t.prototype._createItem=function(e,t,i,o,n,a,r,s,l,h,d){var u=e.visualDrawType,c=n.get("itemWidth"),p=n.get("itemHeight"),g=n.isSelected(t),f=o.get("symbolRotate"),y=o.get("symbolKeepAspect"),m=o.get("icon"),v=ka(l=m||l||"roundRect",o,r,s,u,g,d),x=new Se,_=o.getModel("textStyle");if(!be(e.getLegendIcon)||m&&"inherit"!==m){var w="inherit"===m&&e.getData().getVisual("symbol")?"inherit"===f?e.getData().getVisual("symbolRotate"):f:0;x.add(Ra({itemWidth:c,itemHeight:p,icon:l,iconRotate:w,itemStyle:v.itemStyle,lineStyle:v.lineStyle,symbolKeepAspect:y}))}else x.add(e.getLegendIcon({itemWidth:c,itemHeight:p,icon:l,iconRotate:f,itemStyle:v.itemStyle,lineStyle:v.lineStyle,symbolKeepAspect:y}));var S="left"===a?c+5:-5,b=a,M=n.get("formatter"),C=t;H(M)&&M?C=M.replace("{name}",t??""):be(M)&&(C=M(t));var T=o.get("inactiveColor");x.add(new ce({style:kr(_,{text:C,x:S,y:p/2,fill:g?_.getTextColor():T,align:b,verticalAlign:"middle"})}));var I=new Te({shape:x.getBoundingRect(),invisible:!0}),A=o.getModel("tooltip");return A.get("show")&&Rr({el:I,componentModel:n,itemName:t,itemTooltipOption:A.option}),x.add(I),x.eachChild((function(e){e.silent=!0})),I.silent=!h,this.getContentGroup().add(x),it(x),x.__legendDataIndex=i,x},t.prototype.layoutInner=function(e,t,i,o,n,a){var r=this.getContentGroup(),s=this.getSelectorGroup();he(e.get("orient"),r,e.get("itemGap"),i.width,i.height);var l=r.getBoundingRect(),h=[-l.x,-l.y];if(s.markRedraw(),r.markRedraw(),n){he("horizontal",s,e.get("selectorItemGap",!0));var d=s.getBoundingRect(),u=[-d.x,-d.y],c=e.get("selectorButtonGap",!0),p=e.getOrient().index,g=0===p?"width":"height",f=0===p?"height":"width",y=0===p?"y":"x";"end"===a?u[p]+=l[g]+c:h[p]+=d[g]+c,u[1-p]+=l[f]/2-d[f]/2,s.x=u[0],s.y=u[1],r.x=h[0],r.y=h[1];var m={x:0,y:0};return m[g]=l[g]+c+d[g],m[f]=Math.max(l[f],d[f]),m[y]=Math.min(0,d[y]+u[1-p]),m}return r.x=h[0],r.y=h[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Lt);function ka(e,t,i,o,n,a,r){function s(e,t){"auto"===e.lineWidth&&(e.lineWidth=t.lineWidth>0?2:0),He(e,(function(i,o){"inherit"===e[o]&&(e[o]=t[o])}))}var l=t.getModel("itemStyle"),h=l.getItemStyle(),d=0===e.lastIndexOf("empty",0)?"fill":"stroke",u=l.getShallow("decal");h.decal=u&&"inherit"!==u?Gr(u,r):o.decal,"inherit"===h.fill&&(h.fill=o[n]),"inherit"===h.stroke&&(h.stroke=o[d]),"inherit"===h.opacity&&(h.opacity=("fill"===n?o:i).opacity),s(h,o);var c=t.getModel("lineStyle"),p=c.getLineStyle();if(s(p,i),"auto"===h.fill&&(h.fill=o.fill),"auto"===h.stroke&&(h.stroke=o.fill),"auto"===p.stroke&&(p.stroke=o.fill),!a){var g=t.get("inactiveBorderWidth"),f=h[d];h.lineWidth="auto"===g?o.lineWidth>0&&f?2:0:h.lineWidth,h.fill=t.get("inactiveColor"),h.stroke=t.get("inactiveBorderColor"),p.stroke=c.get("inactiveColor"),p.lineWidth=c.get("inactiveWidth")}return{itemStyle:h,lineStyle:p}}function Ra(e){var t=e.icon||"roundRect",i=Br(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return i.setStyle(e.itemStyle),i.rotation=(e.iconRotate||0)*Math.PI/180,i.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i}function gt(e,t,i,o){We(e,t,i,o),i.dispatchAction({type:"legendToggleSelect",name:e??t}),Ve(e,t,i,o)}function Ht(e){for(var t,i=e.getZr().storage.getDisplayList(),o=0,n=i.length;o<n&&!(t=i[o].states.emphasis);)o++;return t&&t.hoverLayer}function Ve(e,t,i,o){Ht(i)||i.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:o})}function We(e,t,i,o){Ht(i)||i.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:o})}const Vt=Oa;function Ga(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0}))}function le(e,t,i){var o,n={},a="toggleSelected"===e;return i.eachComponent("legend",(function(i){a&&null!=o?i[o?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?i[e]():(i[e](t.name),o=i.isSelected(t.name));var r=i.getData();P(r,(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var o=i.isSelected(t);n.hasOwnProperty(t)?n[t]=n[t]&&o:n[t]=o}}))})),"allSelect"===e||"inverseSelect"===e?{selected:n}:{name:t.name,selected:n}}function Ba(e){e.registerAction("legendToggleSelect","legendselectchanged",$(le,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",$(le,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",$(le,"inverseSelect")),e.registerAction("legendSelect","legendselected",$(le,"select")),e.registerAction("legendUnSelect","legendunselected",$(le,"unSelect"))}function Wt(e){e.registerComponentModel(Ne),e.registerComponentView(Vt),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,Ga),e.registerSubTypeDefaulter("legend",(function(){return"plain"})),Ba(e)}var za=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return X(t,e),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(t,i,o){var n=zr(t);e.prototype.init.call(this,t,i,o),dt(this,t,n)},t.prototype.mergeOption=function(t,i){e.prototype.mergeOption.call(this,t,i),dt(this,this.option,t)},t.type="legend.scroll",t.defaultOption=Nr(Ne.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(Ne);function dt(e,t,i){var o=[1,1];o[e.getOrient().index]=0,Hr(t,i,{type:"box",ignoreSize:!!o})}const Na=za;var pt=Pt,Re=["width","height"],Ge=["x","y"],Ha=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.newlineDisabled=!0,i._currentIndex=0,i}return X(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new pt),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new pt)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(t,i,o,n,a,r,s){var l=this;e.prototype.renderInner.call(this,t,i,o,n,a,r,s);var h=this._controllerGroup,d=i.get("pageIconSize",!0),u=W(d)?d:[d,d];p("pagePrev",0);var c=i.getModel("pageTextStyle");function p(e,t){var o=e+"DataIndex",a=Vr(i.get("pageIcons",!0)[i.getOrient().name][t],{onclick:Y(l._pageGo,l,o,i,n)},{x:-u[0]/2,y:-u[1]/2,width:u[0],height:u[1]});a.name=e,h.add(a)}h.add(new ce({name:"pageText",style:{text:"xx/xx",fill:c.getTextColor(),font:c.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1)},t.prototype.layoutInner=function(e,t,i,o,n,a){var r=this.getSelectorGroup(),s=e.getOrient().index,l=Re[s],h=Ge[s],d=Re[1-s],u=Ge[1-s];n&&he("horizontal",r,e.get("selectorItemGap",!0));var c=e.get("selectorButtonGap",!0),p=r.getBoundingRect(),g=[-p.x,-p.y],f=At(i);n&&(f[l]=i[l]-p[l]-c);var y=this._layoutContentAndController(e,o,f,s,l,d,u,h);if(n){if("end"===a)g[s]+=y[l]+c;else{var m=p[l]+c;g[s]-=m,y[h]-=m}y[l]+=p[l]+c,g[1-s]+=y[u]+y[d]/2-p[d]/2,y[d]=Math.max(y[d],p[d]),y[u]=Math.min(y[u],p[u]+g[1-s]),r.x=g[0],r.y=g[1],r.markRedraw()}return y},t.prototype._layoutContentAndController=function(e,t,i,o,n,a,r,s){var l=this.getContentGroup(),h=this._containerGroup,d=this._controllerGroup;he(e.get("orient"),l,e.get("itemGap"),o?i.width:null,o?null:i.height),he("horizontal",d,e.get("pageButtonItemGap",!0));var u=l.getBoundingRect(),c=d.getBoundingRect(),p=this._showController=u[n]>i[n],g=[-u.x,-u.y];t||(g[o]=l[s]);var f=[0,0],y=[-c.x,-c.y],m=Be(e.get("pageButtonGap",!0),e.get("itemGap",!0));p&&("end"===e.get("pageButtonPosition",!0)?y[o]+=i[n]-c[n]:f[o]+=c[n]+m);y[1-o]+=u[a]/2-c[a]/2,l.setPosition(g),h.setPosition(f),d.setPosition(y);var v={x:0,y:0};if(v[n]=p?i[n]:u[n],v[a]=Math.max(u[a],c[a]),v[r]=Math.min(0,c[r]+y[1-o]),h.__rectSize=i[n],p){var x={x:0,y:0};x[n]=Math.max(i[n]-c[n]-m,0),x[a]=v[a],h.setClipPath(new Te({shape:x})),h.__rectSize=x[n]}else d.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var _=this._getPageInfo(e);return null!=_.pageIndex&&ze(l,{x:_.contentPosition[0],y:_.contentPosition[1]},p?e:null),this._updatePageInfoView(e,_),v},t.prototype._pageGo=function(e,t,i){var o=this._getPageInfo(t)[e];null!=o&&i.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:t.id})},t.prototype._updatePageInfoView=function(e,t){var i=this._controllerGroup;P(["pagePrev","pageNext"],(function(o){var n=null!=t[o+"DataIndex"],a=i.childOfName(o);a&&(a.setStyle("fill",n?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),a.cursor=n?"pointer":"default")}));var o=i.childOfName("pageText"),n=e.get("pageFormatter"),a=t.pageIndex,r=null!=a?a+1:0,s=t.pageCount;o&&n&&o.setStyle("text",H(n)?n.replace("{current}",null==r?"":r+"").replace("{total}",null==s?"":s+""):n({current:r,total:s}))},t.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),i=this.getContentGroup(),o=this._containerGroup.__rectSize,n=e.getOrient().index,a=Re[n],r=Ge[n],s=this._findTargetItemIndex(t),l=i.children(),h=l[s],d=l.length,u=d?1:0,c={contentPosition:[i.x,i.y],pageCount:u,pageIndex:u-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return c;var p=v(h);c.contentPosition[n]=-p.s;for(var g=s+1,f=p,y=p,m=null;g<=d;++g)(!(m=v(l[g]))&&y.e>f.s+o||m&&!x(m,f.s))&&((f=y.i>f.i?y:m)&&(null==c.pageNextDataIndex&&(c.pageNextDataIndex=f.i),++c.pageCount)),y=m;for(g=s-1,f=p,y=p,m=null;g>=-1;--g)(!(m=v(l[g]))||!x(y,m.s))&&f.i<y.i&&(y=f,null==c.pagePrevDataIndex&&(c.pagePrevDataIndex=f.i),++c.pageCount,++c.pageIndex),f=m;return c;function v(e){if(e){var t=e.getBoundingRect(),i=t[r]+e[r];return{s:i,e:i+t[a],i:e.__legendDataIndex}}}function x(e,t){return e.e>=t&&e.s<=t+o}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild((function(o,n){var a=o.__legendDataIndex;null==i&&null!=a&&(i=n),a===e&&(t=n)})),t??i):0;var t,i},t.type="legend.scroll",t}(Vt);const Va=Ha;function Wa(e){e.registerAction("legendScroll","legendscroll",(function(e,t){var i=e.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(i)}))}))}function Fa(e){_e(Wt),e.registerComponentModel(Na),e.registerComponentView(Va),Wa(e)}function Ua(e){_e(Wt),_e(Fa)}export{$a as a,Ua as b,Ea as i};