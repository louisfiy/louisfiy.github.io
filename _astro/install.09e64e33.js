import{b7 as T,j as m,au as z,b8 as Lt,b9 as vt,aj as k,G as Dt,ba as wt,B as Tt,bb as It,E as Et,h as G,bc as _t,bd as kt,av as D,be as Gt,L as ft,bf as ht,bg as O,bh as Ot,bi as Pt,bj as Bt,f as X,bk as M,bl as Y,R as j,n as gt,z as Rt,W as Nt,_ as L,O as dt,bm as Ft,as as I,d as P,bn as zt,aG as Vt,aI as Ht,bo as Wt,aw as Zt,bp as jt,bq as U,br as q,bs as $t,bt as Xt,bu as B,g as Yt,bv as Ut,a1 as qt,Y as R,bw as Jt,bx as J,by as K,bz as Kt,bA as Qt,bB as te,bC as V,bD as Q,aF as ee,bE as ae,bF as re,m as ne,bG as ie,bH as oe,bI as tt,bJ as et,al as se,u as at,aq as le}from"./installCanvasRenderer.5ae64406.js";var ue=function(t){this.coordSysDims=[],this.axisMap=z(),this.categoryAxisMap=z(),this.coordSysName=t};function ce(t){var e=t.get("coordinateSystem"),n=new ue(e),i=ve[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}var ve={cartesian2d:function(t,e,n,i){var o=t.getReferringComponents("xAxis",T).models[0],a=t.getReferringComponents("yAxis",T).models[0];e.coordSysDims=["x","y"],n.set("x",o),n.set("y",a),E(o)&&(i.set("x",o),e.firstCategoryDimIndex=0),E(a)&&(i.set("y",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,i){var o=t.getReferringComponents("singleAxis",T).models[0];e.coordSysDims=["single"],n.set("single",o),E(o)&&(i.set("single",o),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var o=t.getReferringComponents("polar",T).models[0],a=o.findAxisModel("radiusAxis"),r=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",r),E(a)&&(i.set("radius",a),e.firstCategoryDimIndex=0),E(r)&&(i.set("angle",r),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,i){var o=t.ecModel,a=o.getComponent("parallel",t.get("parallelIndex")),r=e.coordSysDims=a.dimensions.slice();m(a.parallelAxisIndex,(function(t,a){var s=o.getComponent("parallelAxis",t),l=r[a];n.set(l,s),E(s)&&(i.set(l,s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=a))}))}};function E(t){return"category"===t.get("type")}function fe(t,e){var n,i=t.get("coordinateSystem"),o=kt.get(i);return e&&e.coordSysDims&&(n=D(e.coordSysDims,(function(t){var n={name:t},i=e.axisMap.get(t);if(i){var o=i.get("type");n.type=Gt(o)}return n}))),n||(n=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),n}function he(t,e,n){var i,o;return n&&m(t,(function(t,a){var r=t.coordDim,s=n.categoryAxisMap.get(r);s&&(null==i&&(i=a),t.ordinalMeta=s.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(o=!0)})),!o&&null!=i&&(t[i].otherDims.itemName=0),i}function ra(t,e,n){n=n||{};var i,o=e.getSourceManager(),a=!1;t?(a=!0,i=Lt(t)):a=(i=o.getSource()).sourceFormat===vt;var r=ce(e),s=fe(e,r),l=n.useEncodeDefaulter,c=k(l)?l:l?Dt(wt,s,e):null,u={coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!a},d=Tt(i,u),h=he(d.dimensions,n.createInvertedIndices,r),p=a?null:o.getSharedDataStore(d),g=It(e,{schema:d,store:p}),f=new Et(d,e);f.setCalculationInfo(g);var x=null!=h&&ge(i)?function(t,e,n,i){return i===h?n:this.defaultDimValueGetter(t,e,n,i)}:null;return f.hasItemOption=!1,f.initData(a?i:p,null,x),f}function ge(t){if(t.sourceFormat===vt){var e=de(t.data||[]);return!G(_t(e))}}function de(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}var pe=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}(),_=ft();function xe(t){return"category"===t.type?me(t):be(t)}function ye(t,e){return"category"===t.type?Ae(t,e):{ticks:D(t.scale.getTicks(),(function(t){return t.value}))}}function me(t){var e=t.getLabelModel(),n=pt(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function pt(t,e){var n,i,o=xt(t,"labels"),a=ht(e),r=yt(o,a);return r||(k(a)?n=bt(t,a):n=At(t,i="auto"===a?Ce(t):a),mt(o,a,{labels:n,labelCategoryInterval:i}))}function Ae(t,e){var n,i,o=xt(t,"ticks"),a=ht(e),r=yt(o,a);if(r)return r;if((!e.get("show")||t.scale.isBlank())&&(n=[]),k(a))n=bt(t,a,!0);else if("auto"===a){var s=pt(t,t.getLabelModel());i=s.labelCategoryInterval,n=D(s.labels,(function(t){return t.tickValue}))}else n=At(t,i=a,!0);return mt(o,a,{ticks:n,tickCategoryInterval:i})}function be(t){var e=t.scale.getTicks(),n=O(t);return{labels:D(e,(function(e,i){return{level:e.level,formattedLabel:n(e,i),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}function xt(t,e){return _(t)[e]||(_(t)[e]=[])}function yt(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function mt(t,e,n){return t.push({key:e,value:n}),n}function Ce(t){return _(t).autoInterval??(_(t).autoInterval=t.calculateCategoryInterval())}function Se(t){var e=Me(t),n=O(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),r=o.count();if(a[1]-a[0]<1)return 0;var s=1;r>40&&(s=Math.max(1,Math.floor(r/40)));for(var l=a[0],c=t.dataToCoord(l+1)-t.dataToCoord(l),u=Math.abs(c*Math.cos(i)),d=Math.abs(c*Math.sin(i)),h=0,p=0;l<=a[1];l+=s){var g,f,x=Ot(n({value:l}),e.font,"center","top");g=1.3*x.width,f=1.3*x.height,h=Math.max(h,g,7),p=Math.max(p,f,7)}var y=h/u,m=p/d;isNaN(y)&&(y=1/0),isNaN(m)&&(m=1/0);var v=Math.max(0,Math.floor(Math.min(y,m))),b=_(t.model),M=t.getExtent(),A=b.lastAutoInterval,C=b.lastTickCount;return null!=A&&null!=C&&Math.abs(A-v)<=1&&Math.abs(C-r)<=1&&A>v&&b.axisExtent0===M[0]&&b.axisExtent1===M[1]?v=A:(b.lastTickCount=r,b.lastAutoInterval=v,b.axisExtent0=M[0],b.axisExtent1=M[1]),v}function Me(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function At(t,e,n){var i=O(t),o=t.scale,a=o.getExtent(),r=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),c=a[0],u=o.count();0!==c&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var d=Pt(t),h=r.get("showMinLabel")||d,p=r.get("showMaxLabel")||d;h&&c!==a[0]&&f(a[0]);for(var g=c;g<=a[1];g+=l)f(g);function f(t){var e={value:t};s.push(n?t:{formattedLabel:i(e),rawLabel:o.getLabel(e),tickValue:t})}return p&&g-l!==a[1]&&f(a[1]),s}function bt(t,e,n){var i=t.scale,o=O(t),a=[];return m(i.getTicks(),(function(t){var r=i.getLabel(t),s=t.value;e(t.value,r)&&a.push(n?s:{formattedLabel:o(t),rawLabel:r,tickValue:s})})),a}var rt=[0,1],Le=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return Bt(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&nt(n=n.slice(),i.count()),X(t,rt,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&nt(n=n.slice(),i.count());var o=X(t,n,rt,e);return this.scale.scale(o)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=ye(this,e).ticks,i=D(n,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this);return De(this,i,e.get("alignWithLabel"),t.clamp),i},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");t>0&&t<100||(t=5);var e=this.scale.getMinorTicks(t);return D(e,(function(t){return D(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this)},t.prototype.getViewLabels=function(){return xe(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(){return Se(this)},t}();function nt(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}function De(t,e,n,i){var o=e.length;if(t.onBand&&!n&&o){var a,r,s=t.getExtent();if(1===o)e[0].coord=s[0],a=e[1]={coord:s[0]};else{var l=e[o-1].tickValue-e[0].tickValue,c=(e[o-1].coord-e[0].coord)/l;m(e,(function(t){t.coord-=c/2})),r=1+t.scale.getExtent()[1]-e[o-1].tickValue,a={coord:e[o-1].coord+c*r},e.push(a)}var u=s[0]>s[1];d(e[0].coord,s[0])&&(i?e[0].coord=s[0]:e.shift()),i&&d(s[0],e[0].coord)&&e.unshift({coord:s[0]}),d(s[1],a.coord)&&(i?a.coord=s[1]:e.pop()),i&&d(a.coord,s[1])&&e.push({coord:s[1]})}function d(t,e){return t=M(t),e=M(e),u?t>e:t<e}}const we=Le;function na(t,e){var n=t.mapDimensionsAll("defaultedLabel"),i=n.length;if(1===i){var o=Y(t,e,n[0]);return null!=o?o+"":null}if(i){for(var a=[],r=0;r<n.length;r++)a.push(Y(t,e,n[r]));return a.join(" ")}}function ia(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!G(e))return e+"";for(var i=[],o=0;o<n.length;o++){var a=t.getDimensionIndex(n[o]);a>=0&&i.push(e[a])}return i.join(" ")}function Te(t,e,n,i,o){var a=t.getArea(),r=a.x,s=a.y,l=a.width,c=a.height,u=n.get(["lineStyle","width"])||2;r-=u/2,s-=u/2,l+=u,c+=u,r=Math.floor(r),l=Math.round(l);var d=new j({shape:{x:r,y:s,width:l,height:c}});if(e){var h=t.getBaseAxis(),p=h.isHorizontal(),g=h.inverse;p?(g&&(d.shape.x+=l),d.shape.width=0):(g||(d.shape.y+=c),d.shape.height=0);var f=k(o)?function(t){o(t,d)}:null;gt(d,{shape:{width:l,height:c,x:r,y:s}},n,null,i,f)}return d}function Ie(t,e,n){var i=t.getArea(),o=M(i.r0,1),a=M(i.r,1),r=new Rt({shape:{cx:M(t.cx,1),cy:M(t.cy,1),r0:o,r:a,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});e&&("angle"===t.getBaseAxis().dim?r.shape.endAngle=i.startAngle:r.shape.r=o,gt(r,{shape:{endAngle:i.endAngle,r:a}},n));return r}function oa(t,e,n,i,o){return t?"polar"===t.type?Ie(t,e,n):"cartesian2d"===t.type?Te(t,e,n,i,o):null:null}function sa(t,e){return t.type===e}var Ee={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},_e=function(t){return Math.round(t.length/2)};function la(t){return{seriesType:t,reset:function(t,e,n){var i=t.getData(),o=t.get("sampling"),a=t.coordinateSystem,r=i.count();if(r>10&&"cartesian2d"===a.type&&o){var s=a.getBaseAxis(),l=a.getOtherAxis(s),c=s.getExtent(),u=n.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(u||1),h=Math.round(r/d);if(isFinite(h)&&h>1){"lttb"===o&&t.setData(i.lttbDownSample(i.mapDimension(l.dim),1/h));var p=void 0;Nt(o)?p=Ee[o]:k(o)&&(p=o),p&&t.setData(i.downSample(i.mapDimension(l.dim),1/h,p,_e))}}}}}var ke=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(dt);const Ge=ke;var H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",T).models[0]},e.type="cartesian2dAxis",e}(dt);Ft(H,pe);var Ct={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Oe=I({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Ct),$=I({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Ct),Pe=I({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},$),Be=P({logBase:10},$);const Re={category:Oe,value:$,time:Pe,log:Be};var Ne={value:1,category:1,time:1,log:1};function it(t,e,n,i){m(Ne,(function(o,a){var r=I(I({},Re[a],!0),i,!0),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e+"Axis."+a,n}return L(n,t),n.prototype.mergeDefaultAndTheme=function(t,e){var n=zt(this),i=n?Vt(t):{},o=e.getTheme();I(t,o.get(a+"Axis")),I(t,this.getDefaultOption()),t.type=ot(t),n&&Ht(t,i,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Wt.createByAxisModel(this))},n.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=e+"Axis."+a,n.defaultOption=r,n}(n);t.registerComponentModel(s)})),t.registerSubTypeDefaulter(e+"Axis",ot)}function ot(t){return t.type||(t.data?"category":"value")}var Fe=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return D(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Zt(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}();const ze=Fe;var W=["x","y"];function st(t){return"interval"===t.type||"time"===t.type}var Ve=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=W,e}return L(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(st(t)&&st(e)){var n=t.getExtent(),i=e.getExtent(),o=this.dataToPoint([n[0],i[0]]),a=this.dataToPoint([n[1],i[1]]),r=n[1]-n[0],s=i[1]-i[0];if(r&&s){var l=(a[0]-o[0])/r,c=(a[1]-o[1])/s,u=o[0]-n[0]*l,d=o[1]-i[0]*c,h=this._transform=[l,0,0,c,u,d];this._invTransform=jt([],h)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,e){var n=this.dataToPoint(t),i=this.dataToPoint(e),o=this.getArea(),a=new U(n[0],n[1],i[0]-n[0],i[1]-n[1]);return o.intersect(a)},e.prototype.dataToPoint=function(t,e,n){n=n||[];var i=t[0],o=t[1];if(this._transform&&null!=i&&isFinite(i)&&null!=o&&isFinite(o))return q(n,t,this._transform);var a=this.getAxis("x"),r=this.getAxis("y");return n[0]=a.toGlobalCoord(a.dataToCoord(i,e)),n[1]=r.toGlobalCoord(r.dataToCoord(o,e)),n},e.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),a=i.getExtent(),r=n.parse(t[0]),s=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),r),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),e},e.prototype.pointToData=function(t,e){var n=[];if(this._invTransform)return q(n,t,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(t[0]),e),n[1]=o.coordToData(o.toLocalCoord(t[1]),e),n},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),o=Math.max(t[0],t[1])-n,a=Math.max(e[0],e[1])-i;return new U(n,i,o,a)},e}(ze),He=function(t){function e(e,n,i,o,a){var r=t.call(this,e,n,i)||this;return r.index=0,r.type=o||"value",r.position=a||"bottom",r}return L(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(we);const We=He;var N=Math.log;function Ze(t,e,n){var i=$t.prototype,o=i.getTicks.call(n),a=i.getTicks.call(n,!0),r=o.length-1,s=i.getInterval.call(n),l=Xt(t,e),c=l.extent,u=l.fixMin,d=l.fixMax;if("log"===t.type){var h=N(t.base);c=[N(c[0])/h,N(c[1])/h]}t.setExtent(c[0],c[1]),t.calcNiceExtent({splitNumber:r,fixMin:u,fixMax:d});var p=i.getExtent.call(t);u&&(c[0]=p[0]),d&&(c[1]=p[1]);var g=i.getInterval.call(t),f=c[0],x=c[1];if(u&&d)g=(x-f)/r;else if(u)for(x=c[0]+g*r;x<c[1]&&isFinite(x)&&isFinite(c[1]);)g=B(g),x=c[0]+g*r;else if(d)for(f=c[1]-g*r;f>c[0]&&isFinite(f)&&isFinite(c[0]);)g=B(g),f=c[1]-g*r;else{t.getTicks().length-1>r&&(g=B(g));var y=g*r;x=Math.ceil(c[1]/g)*g,(f=M(x-y))<0&&c[0]>=0?(f=0,x=M(y)):x>0&&c[1]<=0&&(x=0,f=-M(y))}var m=(o[0].value-a[0].value)/s,v=(o[r].value-a[r].value)/s;i.setExtent.call(t,f+g*m,x+g*v),i.setInterval.call(t,g),(m||v)&&i.setNiceExtent.call(t,f+g,x-g)}var je=function(){function t(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=W,this._initCartesian(t,e,n),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var n=this._axesMap;function i(t){var e,n=te(t),i=n.length;if(i){for(var o=[],a=i-1;a>=0;a--){var r=t[+n[a]],s=r.model,l=r.scale;V(l)&&s.get("alignTicks")&&null==s.get("interval")?o.push(r):(Q(l,s),V(l)&&(e=r))}o.length&&(e||(e=o.pop(),Q(e.scale,e.model)),m(o,(function(t){Ze(t.scale,t.model,e.scale)})))}}this._updateScale(t,this.model),i(n.x),i(n.y);var o={};m(n.x,(function(t){lt(n,"y",t,o)})),m(n.y,(function(t){lt(n,"x",t,o)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,n){var i=t.getBoxLayoutParams(),o=!n&&t.get("containLabel"),a=Yt(i,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var r=this._axesList;function s(){m(r,(function(t){var e=t.isHorizontal(),n=e?[0,a.width]:[0,a.height],i=t.inverse?1:0;t.setExtent(n[i],n[1-i]),$e(t,e?a.x:a.y)}))}s(),o&&(m(r,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=Ut(t);if(e){var n=t.isHorizontal()?"height":"width",i=t.model.get(["axisLabel","margin"]);a[n]-=e[n]+i,"top"===t.position?a.y+=e.height+i:"left"===t.position&&(a.x+=e.width+i)}}})),s()),m(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}qt(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===e)return o[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(t){var e,n,i=t.seriesModel,o=t.xAxisModel||i&&i.getReferringComponents("xAxis",T).models[0],a=t.yAxisModel||i&&i.getReferringComponents("yAxis",T).models[0],r=t.gridModel,s=this._coordsList;if(i)e=i.coordinateSystem,R(s,e)<0&&(e=null);else if(o&&a)e=this.getCartesian(o.componentIndex,a.componentIndex);else if(o)n=this.getAxis("x",o.componentIndex);else if(a)n=this.getAxis("y",a.componentIndex);else if(r){r.coordinateSystem===this&&(e=this._coordsList[0])}return{cartesian:e,axis:n}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,n){var i=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(e){return function(n,i){if(F(n,t)){var l=n.get("position");"x"===e?"top"!==l&&"bottom"!==l&&(l=a.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=a.left?"right":"left"),a[l]=!0;var c=new We(e,Jt(n),[0,0],n.get("type"),l),u="category"===c.type;c.onBand=u&&n.get("boundaryGap"),c.inverse=n.get("inverse"),n.axis=c,c.model=n,c.grid=o,c.index=i,o._axesList.push(c),r[e][i]=c,s[e]++}}}this._axesMap=r,m(r.x,(function(e,n){m(r.y,(function(o,a){var r="x"+n+"y"+a,s=new Ve(r);s.master=i,s.model=t,i._coordsMap[r]=s,i._coordsList.push(s),s.addAxis(e),s.addAxis(o)}))}))},t.prototype._updateScale=function(t,e){function n(t,e){m(Kt(t,e.dim),(function(n){e.scale.unionExtentFromData(t,n)}))}m(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(J(t)){var i=K(t),o=i.xAxisModel,a=i.yAxisModel;if(!F(o,e)||!F(a,e))return;var r=this.getCartesian(o.componentIndex,a.componentIndex),s=t.getData(),l=r.getAxis("x"),c=r.getAxis("y");n(s,l),n(s,c)}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],n=[];return m(this.getCartesians(),(function(i){var o=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),a=i.getOtherAxis(o);R(e,o)<0&&e.push(o),R(n,a)<0&&n.push(a)})),{baseAxes:e,otherAxes:n}},t.create=function(e,n){var i=[];return e.eachComponent("grid",(function(o,a){var r=new t(o,e,n);r.name="grid_"+a,r.resize(o,n,!0),o.coordinateSystem=r,i.push(r)})),e.eachSeries((function(t){if(J(t)){var e=K(t),n=e.xAxisModel,i=e.yAxisModel,o=n.getCoordSysModel().coordinateSystem;t.coordinateSystem=o.getCartesian(n.componentIndex,i.componentIndex)}})),i},t.dimensions=W,t}();function F(t,e){return t.getCoordSysModel()===e}function lt(t,e,n,i){n.getAxesOnZeroOf=function(){return o?[o]:[]};var o,a=t[e],r=n.model,s=r.get(["axisLine","onZero"]),l=r.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)ut(a[l])&&(o=a[l]);else for(var c in a)if(a.hasOwnProperty(c)&&ut(a[c])&&!i[u(a[c])]){o=a[c];break}o&&(i[u(o)]=!0)}function u(t){return t.dim+"_"+t.index}}function ut(t){return t&&"category"!==t.type&&"time"!==t.type&&Qt(t)}function $e(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}const Xe=je;var Z=ft();function Ye(t,e,n,i){var o=n.axis;if(!o.scale.isBlank()){var a=n.getModel("splitArea"),r=a.getModel("areaStyle"),s=r.get("color"),l=i.coordinateSystem.getRect(),c=o.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var u=s.length,d=Z(t).splitAreaColors,h=z(),p=0;if(d)for(var g=0;g<c.length;g++){var f=d.get(c[g].tickValue);if(null!=f){p=(f+(u-1)*g)%u;break}}var x=o.toGlobalCoord(c[0].coord),y=r.getAreaStyle();s=G(s)?s:[s];for(g=1;g<c.length;g++){var m=o.toGlobalCoord(c[g].coord),v=void 0,b=void 0,M=void 0,A=void 0;o.isHorizontal()?(v=x,b=l.y,M=m-v,A=l.height,x=v+M):(v=l.x,b=x,M=l.width,x=b+(A=m-b));var C=c[g-1].tickValue;null!=C&&h.set(C,p),e.add(new j({anid:null!=C?"area_"+C:null,shape:{x:v,y:b,width:M,height:A},style:P({fill:s[p]},y),autoBatch:!0,silent:!0})),p=(p+1)%u}Z(t).splitAreaColors=h}}}function Ue(t){Z(t).splitAreaColors=null}var qe=["axisLine","axisTickLabel","axisName"],Je=["splitArea","splitLine","minorSplitLine"],St=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return L(e,t),e.prototype.render=function(e,n,i,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new ee,this.group.add(this._axisGroup),e.get("show")){var r=e.getCoordSysModel(),s=ae(r,e),l=new re(e,ne({handleAutoShown:function(t){for(var n=r.coordinateSystem.getCartesians(),i=0;i<n.length;i++)if(V(n[i].getOtherAxis(e.axis).scale))return!0;return!1}},s));m(qe,l.add,l),this._axisGroup.add(l.getGroup()),m(Je,(function(t){e.get([t,"show"])&&Ke[t](this,this._axisGroup,e,r)}),this),o&&"changeAxisOrder"===o.type&&o.isInitSort||ie(a,this._axisGroup,e),t.prototype.render.call(this,e,n,i,o)}},e.prototype.remove=function(){Ue(this)},e.type="cartesianAxis",e}(oe),Ke={splitLine:function(t,e,n,i){var o=n.axis;if(!o.scale.isBlank()){var a=n.getModel("splitLine"),r=a.getModel("lineStyle"),s=r.get("color");s=G(s)?s:[s];for(var l=i.coordinateSystem.getRect(),c=o.isHorizontal(),u=0,d=o.getTicksCoords({tickModel:a}),h=[],p=[],g=r.getLineStyle(),f=0;f<d.length;f++){var x=o.toGlobalCoord(d[f].coord);c?(h[0]=x,h[1]=l.y,p[0]=x,p[1]=l.y+l.height):(h[0]=l.x,h[1]=x,p[0]=l.x+l.width,p[1]=x);var y=u++%s.length,m=d[f].tickValue,v=new tt({anid:null!=m?"line_"+d[f].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:P({stroke:s[y]},g),silent:!0});et(v.shape,g.lineWidth),e.add(v)}}},minorSplitLine:function(t,e,n,i){var o=n.axis,a=n.getModel("minorSplitLine").getModel("lineStyle"),r=i.coordinateSystem.getRect(),s=o.isHorizontal(),l=o.getMinorTicksCoords();if(l.length)for(var c=[],u=[],d=a.getLineStyle(),h=0;h<l.length;h++)for(var p=0;p<l[h].length;p++){var g=o.toGlobalCoord(l[h][p].coord);s?(c[0]=g,c[1]=r.y,u[0]=g,u[1]=r.y+r.height):(c[0]=r.x,c[1]=g,u[0]=r.x+r.width,u[1]=g);var f=new tt({anid:"minor_line_"+l[h][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:d,silent:!0});et(f.shape,d.lineWidth),e.add(f)}},splitArea:function(t,e,n,i){Ye(t,e,n,i)}},Mt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return L(e,t),e.type="xAxis",e}(St),Qe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=Mt.type,e}return L(e,t),e.type="yAxis",e}(St),ta=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return L(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new j({shape:t.coordinateSystem.getRect(),style:P({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(se),ct={offset:0};function ea(t){t.registerComponentView(ta),t.registerComponentModel(Ge),t.registerCoordinateSystem("cartesian2d",Xe),it(t,"x",H,ct),it(t,"y",H,ct),t.registerComponentView(Mt),t.registerComponentView(Qe),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function ua(t){at(ea),at(le)}export{ia as a,Te as b,ra as c,Ie as d,la as e,ua as f,na as g,oa as h,sa as i};